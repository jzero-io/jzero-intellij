<idea-plugin url="https://go-zero.dev">
    <id>io.jzero.jzero</id>
    <name>Jzero</name>
    <vendor email="anqiansong@gmail.cn" url="https://docs.jzero.io">jzero</vendor>
    <description><![CDATA[
     <a href="https://go-zero.dev/">go-zero</a> support for JetBrains products.
     <br>
     <br>
     Support for Api programming language of zeromicro.
     <br>
     <br>
     <a href="https://github.com/zeromicro/go-zero">go-zero</a> is a web and rpc framework for golang that with
     lots of engineering practices builtin. Itâ€™s born to ensure the stability of the busy services with resilience design,
      and has been serving sites with tens of millions users for years
     <br>
     <br>
     <h1>Features</h1>
     <ul>
        <li>Api File Import</li>
        <li>Find reference</li>
        <li>Add context menu</li>
        <li>Highlighting of api</li>
        <li>Grammar and lexer check</li>
        <li>Duplicate define check</li>
        <li>Keyword completion contributor</li>
        <li>Support Code format</li>
        <li>Navigate to logic function from API route</li>
        <li>Navigate to handler file with compact_handler support</li>
        <li>Support .jzero.yaml configuration for file naming format</li>
        <li>Execute jzero gen command from .jzero.yaml</li>
     </ul>
    ]]></description>

    <!-- please see https://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
         on how to target different products -->
    <depends>com.intellij.modules.lang</depends>

    <application-components>
    </application-components>

    <extensions defaultExtensionNs="com.intellij">
        <internalFileTemplate name="Api File"/>
        <internalFileTemplate name="Api Template"/>
        <fileTypeFactory implementation="io.jzero.language.ApiFileTypeFactory"/>
        <lang.syntaxHighlighterFactory language="api"
                                       implementationClass="io.jzero.highlighting.ApiSyntaxHighlighterFactory"/>
        <lang.parserDefinition language="api" implementationClass="io.jzero.parser.ApiParserDefinition"/>
        <lang.ast.factory language="api" implementationClass="io.jzero.psi.ApiASTFactory"/>
        <annotator language="api" implementationClass="io.jzero.language.ApiAnnotator"/>
        <colorSettingsPage implementation="io.jzero.highlighting.ApiColorSettingsPage"/>
        <lang.braceMatcher language="api" implementationClass="io.jzero.editor.ApiPairedBraceMatcher"/>

        <lang.formatter language="api" implementationClass="io.jzero.formatter.ApiFormatter"/>
        <lang.quoteHandler language="api" implementationClass="io.jzero.editor.QuoteHandler"/>
        <lang.commenter language="api" implementationClass="io.jzero.language.ApiCommenter"/>
        <completion.contributor language="api"
                                implementationClass="io.jzero.completion.KeywordCompletionContributor"/>
        <completion.contributor language="api" implementationClass="io.jzero.completion.ApiCompletionContributor"/>
        <defaultLiveTemplatesProvider implementation="io.jzero.template.ApiLiveTemplatesProvider"/>
        <liveTemplateContext implementation="io.jzero.template.ApiEverywhereContextType"/>
        <liveTemplateContext implementation="io.jzero.template.ApiLiveTemplateContextType$Struct"/>
        <liveTemplateContext implementation="io.jzero.template.ApiLiveTemplateContextType$ApiFile"/>
        <liveTemplateContext implementation="io.jzero.template.ApiLiveTemplateContextType$ApiService"/>
        <liveTemplateContext implementation="io.jzero.template.ApiLiveTemplateContextType$Tag"/>
        <liveTemplateContext implementation="io.jzero.template.ApiLiveTemplateContextType$TagLiteral"/>
        <liveTemplateMacro implementation="io.jzero.template.ApiFieldNameMacro"/>
        <codeInsight.lineMarkerProvider language="api" implementationClass="io.jzero.navigation.ApiNavigationLineMarkerProvider"/>
        <codeInsight.lineMarkerProvider implementationClass="io.jzero.navigation.JzeroGenLineMarkerProvider"/>
        <gotoDeclarationHandler implementation="io.jzero.navigation.ApiGotoDeclarationHandler"/>
        <configurationType implementation="io.jzero.runconfig.JzeroGenConfigurationType"/>
    </extensions>

    <actions>
        <action id="Api.NewProtoFile" class="io.jzero.action.ProtoCreateFileAction"
                text="Proto File" description="Create new Proto file" icon="AllIcons.Actions.PrettyPrint">
            <add-to-group group-id="NewGroup" anchor="after" relative-to-action="NewFile"/>
        </action>

        <action id="Api.NewApiFile" class="io.jzero.action.ApiCreateFileAction"
                text="API File" description="Create new Api file">
            <add-to-group group-id="NewGroup" anchor="after" relative-to-action="NewFile"/>
        </action>

        <group id="GoZeroEditorGroup" text="Go Zero" popup="true">
            <add-to-group group-id="GenerateGroup" anchor="first"/>
            <action class="io.jzero.action.ApiAction" id="EditorApiAction" text="API Code Generation"
                    description="Generate api"/>
            <action class="io.jzero.action.ApiQuickAction" id="EditorApiQuickAction"
                    text="API Quick Code Generation"
                    description="Generate api"/>
            <action class="io.jzero.action.RpcAction" id="EditorRpcAction" text="ZRPC Code Generation"
                    description="Generate rpc code"/>
            <action class="io.jzero.action.RpcQuickAction" id="EditorRpcQuickAction"
                    text="ZRPC Quick Code Generation"
                    description="Generate rpc code"/>
            <action class="io.jzero.action.ModelAction" id="EditorModelAction" text="Model Code Generation"
                    description="Generate model code"/>
            <action class="io.jzero.action.ModelQuickAction" id="EditorModelQuickAction"
                    text="Model Quick Code Generation"
                    description="Generate model code"/>
            <action class="io.jzero.action.JzeroGenAction" id="EditorJzeroGenAction"
                    text="Execute jzero gen"
                    description="Execute jzero gen command"/>
        </group>

        <group id="GoZeroProjectNewGroup" text="Go Zero" popup="true" icon="AllIcons.Actions.ProjectDirectory">
            <add-to-group group-id="NewGroup" anchor="after" relative-to-action="NewDir"/>
            <action class="io.jzero.action.ApiNewAction" id="ProjectApiNewAction" text="API Greet Service"
                    description="Generate Api greet service"/>
            <action class="io.jzero.action.RpcNewAction" id="ProjectRpcNewAction" text="ZRPC Greet Service"
                    description="Generate rpc greet service"/>
            <action class="io.jzero.action.ApiAction" id="ProjectAPIAction" text="API Code Generation"
                    description="Generate api"/>
            <action class="io.jzero.action.ApiQuickAction" id="ProjectAPIQuickAction"
                    text="API Quick Code Generation"
                    description="Generate api"/>
            <action class="io.jzero.action.RpcAction" id="ProjectRpcAction" text="ZRPC Code Generation"
                    description="Generate rpc code"/>
            <action class="io.jzero.action.RpcQuickAction" id="ProjectRpcQuickAction"
                    text="ZRPC Quick Code Generation"
                    description="Generate rpc code"/>
            <action class="io.jzero.action.ModelAction" id="ProjectModelAction" text="Model Code Generation"
                    description="Generate model code"/>
            <action class="io.jzero.action.ModelQuickAction" id="ProjectQuickModelAction"
                    text="Model Quick Code Generation"
                    description="Generate model code"/>
            <action class="io.jzero.action.JzeroGenAction" id="ProjectJzeroGenAction"
                    text="Execute jzero gen"
                    description="Execute jzero gen command"/>
        </group>
    </actions>
</idea-plugin>